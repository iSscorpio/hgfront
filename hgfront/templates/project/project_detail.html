{% extends "base.html" %}

{% block content_title %}Project Details{% endblock %}

{% block main_content %}
	{% ifequal project.is_private 0 %}
	<dl class="project-details">
		<dt>
			{{project.longname}}
		</dt>
		<dd>
			<strong>Project Description:</strong><br />
			{{project.description}}
		</dd>
		<dd>
			<strong>Project Owner:</strong><br />
			<a href="{{project.user_owner.get_absolute_url}}">{{project.user_owner}}</a>
		</dd>
	</dl>
	{% else %}
		<div class="error">
			<h2>This project is private, and cannot be viewed except for project members</h2>
		</div>
	{% endifequal %}
{% endblock %}

{% block sidebar %}
	{# if we're on a project, display its members #}
    {% if project.user_members.all %}
    <span class="group">Members</span>
    	<ul>
        {% for member in project.user_members.all %}
        	<li><a href="{{member.get_absolute_url}}">{{member.username}}</a></li>
        {% endfor %}
        </ul>
    {% endif %}
            
    {#if we're on a project, display its repos #}
    {% if project.repo_set.all %}
   		<span class="group">Repositories</span>
        	<ul>
            {% for repo in project.repo_set.all %}
            	<li><a href="{{repo.get_absolute_url}}">{{repo.name}}</a></li>
            {% endfor %}
            </ul>
        {% endif %}
{% endblock %}
